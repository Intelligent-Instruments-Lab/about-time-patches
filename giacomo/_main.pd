#N canvas 141 95 1210 646 12;
#X obj 40 369 hsl 128 15 0 250 0 0 delTimeR empty Delay_time_R -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 40 400 hsl 128 15 0 250 0 0 delTimeL empty Delay_time_L -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 33 26 loadbang;
#X obj 33 54 s load;
#X obj 39 534 hsl 128 15 0.0001 35 0 0 rateChorus empty Rate_chorus -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 39 502 hsl 128 15 0.0001 5 0 0 depthChorus empty Depth_Chorus -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 36 153 readSamples;
#X msg 85 54 \; pd dsp 1;
#X obj 186 300 tgl 25 0 on_off on_off_rcv empty 17 7 0 10 #00f8fc #000000 #000000 0 1;
#X text 218 301 On Off;
#X obj 40 249 hsl 128 15 0 2 0 0 speedRate speedRate_ctrl Pitch -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 40 302 hsl 128 15 0 1 0 0 offset empty Offset -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 37 321 tgl 15 0 randomOffset empty Random_Offset 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#N canvas 0 200 576 300 settings 0;
#X obj 35 12 r load;
#X obj 329 25 r setPitch;
#X obj 329 52 1;
#X obj 329 80 s speedRate;
#X obj 36 159 r preset1;
#X obj 179 160 r preset2;
#X msg 36 185 \; speedRate 0.3 \; rateChorus 30 \; depthChorus 4 \; delTimeR 225 \; delTimeL 172 \; delFeedback 0.8 \;;
#X msg 35 39 \; speedRate 1 \; speedRate_ctrl 1 \; rateChorus 0 \; depthChorus 0 \; delTimeR 0 \; delTimeL 0 \; delFeedback 0.2 \;;
#X obj 355 160 r preset3;
#X msg 355 185 \; speedRate 1 \; rateChorus 1.6 \; depthChorus 4.4 \; randomOffset 0 \; randomDelTime 1 \; delFeedback 0.768 \;;
#X msg 179 185 \; speedRate 1.13 \; rateChorus 33 \; depthChorus 2.7 \; delTimeR 13 \; delTimeL 19 \; delFeedback 0.33 \;;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 5 0 10 0;
#X connect 8 0 9 0;
#X restore 36 178 pd settings;
#X obj 38 267 bng 15 250 50 0 setPitch empty Normal_Pitch 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 40 455 hsl 128 15 0.2 0.85 0 0 delFeedback empty Delay_feedback -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#N canvas -1190 138 968 712 chorus 0;
#X obj 95 333 line~;
#X msg 95 308 \$1 250;
#X floatatom 95 285 5 0 500 0 - - - 0;
#X floatatom 171 498 5 0 0.9 0 - - - 0;
#X obj 132 411 delread4~ sampleDelay01;
#X msg 219 91 clear;
#X obj 339 339 line~;
#X msg 339 314 \$1 250;
#X floatatom 339 287 5 0 500 0 - - - 0;
#X floatatom 360 497 5 0 0.9 0 - - - 0;
#X obj 321 410 delread4~ sampleDelay01;
#X obj 199 119 delwrite~ sampleDelay01 250;
#X text 277 92 clear delay buffer;
#X obj 132 625 s~ delayedSample01;
#X obj 321 623 s~ delayedSample02;
#X obj 34 91 r~ delayedSampleMix;
#X obj 132 527 *~ 0.2;
#X obj 321 526 *~ 0.2;
#X obj 321 380 +~;
#X obj 77 371 +~;
#X obj 37 341 *~;
#X obj 38 179 osc~ 5;
#X text 200 144 constantluy write 250ms of sound in the delay buffer;
#X obj 199 40 r~ sample;
#X obj 95 261 r delTimeR;
#X obj 339 260 r delTimeL;
#X obj 55 204 r depthChorus;
#X obj 171 466 r delFeedback;
#X text 492 410 read delay buffer;
#X obj 282 63 sel 0;
#X obj 282 38 r on_off;
#X obj 38 128 r rateChorus;
#X obj 173 598 s~ delayedSampleMix;
#X floatatom 55 231 5 0 500 0 - - - 0;
#X floatatom 38 155 5 0 500 0 - - - 0;
#X obj 132 561 *~ 0.5;
#X obj 321 559 *~ 0.5;
#X obj 684 84 r randomDelTime;
#X obj 764 211 metro 500;
#X obj 852 261 t b;
#X obj 581 216 metro 500;
#X obj 669 266 t b;
#X msg 823 129 seed 0.23;
#X msg 861 214 seed 0.93;
#X floatatom 581 291 5 0 0 0 - - - 0;
#X floatatom 764 295 5 0 0 0 - - - 0;
#X obj 581 268 * 0.1;
#X obj 764 273 * 0.1;
#X obj 641 160 random 400;
#X obj 824 155 random 400;
#X obj 641 187 + 50;
#X obj 824 182 + 50;
#X obj 861 191 r load;
#X obj 823 104 r load;
#X obj 581 243 random 2500;
#X obj 764 238 random 2500;
#X obj 641 30 r load;
#X msg 641 53 seed 0.03;
#X obj 497 190 r load;
#X msg 497 213 seed 3;
#X connect 0 0 19 1;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 16 1;
#X connect 4 0 16 0;
#X connect 5 0 11 0;
#X connect 6 0 18 1;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 9 0 17 1;
#X connect 10 0 17 0;
#X connect 15 0 11 0;
#X connect 16 0 35 0;
#X connect 17 0 36 0;
#X connect 18 0 10 0;
#X connect 19 0 4 0;
#X connect 20 0 19 0;
#X connect 20 0 18 0;
#X connect 21 0 20 0;
#X connect 23 0 11 0;
#X connect 24 0 2 0;
#X connect 25 0 8 0;
#X connect 26 0 33 0;
#X connect 27 0 3 0;
#X connect 27 0 9 0;
#X connect 29 0 5 0;
#X connect 30 0 29 0;
#X connect 31 0 34 0;
#X connect 33 0 20 1;
#X connect 34 0 21 0;
#X connect 35 0 13 0;
#X connect 35 0 32 0;
#X connect 36 0 14 0;
#X connect 36 0 32 0;
#X connect 37 0 38 0;
#X connect 37 0 40 0;
#X connect 38 0 55 0;
#X connect 39 0 49 0;
#X connect 40 0 54 0;
#X connect 41 0 48 0;
#X connect 42 0 49 0;
#X connect 43 0 55 0;
#X connect 44 0 1 0;
#X connect 45 0 7 0;
#X connect 46 0 44 0;
#X connect 47 0 45 0;
#X connect 48 0 50 0;
#X connect 49 0 51 0;
#X connect 50 0 40 1;
#X connect 51 0 38 1;
#X connect 52 0 43 0;
#X connect 53 0 42 0;
#X connect 54 0 41 0;
#X connect 54 0 46 0;
#X connect 55 0 39 0;
#X connect 55 0 47 0;
#X connect 56 0 57 0;
#X connect 57 0 48 0;
#X connect 58 0 59 0;
#X connect 59 0 54 0;
#X restore 36 201 pd chorus;
#X obj 893 335 r~ delayedSample01;
#X obj 920 386 r~ delayedSample02;
#X obj 190 385 bng 15 250 50 0 preset1 empty or_this.. 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 190 367 bng 15 250 50 0 preset2 empty Try_this! 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 38 420 tgl 15 0 randomDelTime empty Random_Delay_Time 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 190 403 bng 15 250 50 0 preset3 empty and_this? 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 36 101 r load;
#X obj 371 38 adc~ 3 4 5 6 7 8 9;
#X obj 185 21 loadbang;
#X obj 185 75 s metro;
#X obj 893 559 dac~ 1 2 27 28 29 30;
#X obj 185 48 metro 50;
#X obj 369 445 s speedRate;
#X obj 412 164 s delTimeR;
#X obj 785 254 s depthChorus;
#X obj 832 192 s rateChorus;
#X obj 496 165 s delTimeL;
#X obj 388 298 s delFeedback;
#X obj 388 270 scale 0 1 0.2 0.9;
#X obj 369 417 scale 0 1 0.1 2;
#X obj 782 162 scale 0 1 0.001 55;
#X obj 756 223 scale 0 1 0.001 55;
#X obj 412 132 scale 0 1 0.001 10;
#X text 68 128 change sound 1-4;
#X obj 36 125 3;
#X obj 368 364 derivative;
#X obj 388 220 derivative;
#X obj 412 71 derivative;
#X obj 754 100 derivative;
#X obj 893 360 *~ 3;
#X obj 920 415 *~ 3;
#X obj 386 391 s~ input01;
#X obj 947 442 r~ input01;
#X obj 1030 525 r~ input04;
#X obj 1001 497 r~ input03;
#X obj 974 469 r~ input02;
#X obj 399 246 s~ input02;
#X obj 423 99 s~ input03;
#X obj 779 127 s~ input04;
#X obj 186 249 r load;
#X obj 186 273 1;
#X text 451 364 shape input: smooth and derivative;
#X text 467 391 send signal to scope e.g. [dac~ 27];
#X text 487 417 scale values to be sent the the audio algorithm;
#X text 488 299 send value: feedback;
#X text 457 448 send value: pitch;
#X text 892 257 send value: chorus depth;
#X text 927 192 send value: chorus rate;
#X text 576 163 send value: delay time;
#X text 894 584 output 1 & 2 for audio stereo;
#X text 32 558 you can chance audio parameters with the sliders when running Pd on the computer - they do not work when the patch is running on Bela;
#X connect 2 0 3 0;
#X connect 2 0 7 0;
#X connect 17 0 46 0;
#X connect 18 0 47 0;
#X connect 23 0 41 0;
#X connect 24 0 42 0;
#X connect 24 1 43 0;
#X connect 24 2 44 0;
#X connect 24 3 45 0;
#X connect 25 0 28 0;
#X connect 28 0 26 0;
#X connect 35 0 34 0;
#X connect 36 0 29 0;
#X connect 37 0 32 0;
#X connect 38 0 31 0;
#X connect 39 0 30 0;
#X connect 39 0 33 0;
#X connect 41 0 6 0;
#X connect 42 0 36 0;
#X connect 42 1 48 0;
#X connect 43 0 35 0;
#X connect 43 1 53 0;
#X connect 44 0 39 0;
#X connect 44 1 54 0;
#X connect 45 0 38 0;
#X connect 45 0 37 0;
#X connect 45 1 55 0;
#X connect 46 0 27 0;
#X connect 47 0 27 1;
#X connect 49 0 27 2;
#X connect 50 0 27 5;
#X connect 51 0 27 4;
#X connect 52 0 27 3;
#X connect 56 0 57 0;
#X connect 57 0 8 0;
